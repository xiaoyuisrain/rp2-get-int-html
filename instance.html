<html>
<head>
<style>
.tw {
  text-decoration: underline;
}
.int {
  text-decoration: underline;
  color: blue;
}
.doubt {
  color: #de6895
}

.bef_proceed{
  display:none;
}
.aft_proceed{
  display:block;
}
</style>
</head>
<body>
<p>Please paraphrase the sentence or phrase provided below by substituting
the <span class="tw">target word</span>,
and answer subsequent questions.</p>
<p>You could use more than one word to substitute the target word,
    as long as the paraphrase is grammatically correct.</p>
<p class="doubt">Please make sure that your paraphrase uses literal language.</p>
<p>If you could not decide on a paraphrase,
please enter 'NA' and proceed.
Please note, however, that your submission might be rejected
if the majority of respondents managed to provide a paraphrase.</p>
<br />

<form>
<p>Original sentence:</p>
<p class="ref" id="ref">The Conservative manifesto <span class="tw">contained</span> a commitment.</p>

<p>Target word:<span id="tw_alone"></span></p>

<label for="int0">Replacement:</label>
<input type="text" name="int0" id="int0"/><br />

<button type="button" onclick="aft_int0();">Proceed</button>

<!-- if paraphrase is provided -->
<div class="bef_proceed" id="pp_provided">
<br />
<p>Your paraphrase is as follows:</p>
<p id="display_pp"></p><br />

<p>How do you think of the literalness of your paraphrase?</p>
<input type="radio" id="literal" name="literalness" value="1">
<label>literal</label><br />
<input type="radio" id="non_literal" name="literalness" value="-1">
<label>non-literal</label><br />
<input type="radio" id="not_sure" name="literalness" value="0">
<label>not sure</label><br />
<br />

<p>How certain are you that you have provided an apt paraphrase?</p>
<input type="radio" id="certain_3" name="certainty" value="3">
<label>very certain</label><br />
<input type="radio" id="certain_2" name="certainty" value="2">
<label>certain</label><br />
<input type="radio" id="certain_1" name="certainty" value="1">
<label>slightly certain</label><br />
<input type="radio" id="uncertain_1" name="certainty" value="-1">
<label>slightly uncertain</label><br />
<input type="radio" id="uncertain_2" name="certainty" value="-2">
<label>uncertain</label><br />
<input type="radio" id="uncertain_3" name="certainty" value="-3">
<label>very uncertain</label><br />
<input type="radio" id="neither" name="certainty" value="0">
<label>no idea</label><br />

<br /><br />
<input type="submit" value="Submit">
</div>

<!-- if paraphrase is not provided -->
<div class="bef_proceed" id="pp_notprovided">
<br />
<p>Please provide the reason that you could not paraphrase
the given sentence or phrase:</p>
<textarea name="why_fail"></textarea>

<br /><br />
<input type="submit" value="Submit">
</div>

</form>
<script>
  function aft_int0(){
    // Get input int0
    var value_int0 = document.getElementById("int0").value;
    if (value_int0.length) {
      if (value_int0 == 'NA') {
        // Display step after respondent chooses to give up the task.
        document.getElementById("pp_provided").setAttribute("class", "bef_proceed");
        document.getElementById("pp_notprovided").setAttribute("class", "aft_proceed");
      } else {
        // Display step after paraphrase is provided.
        document.getElementById("pp_notprovided").setAttribute("class", "bef_proceed");
        document.getElementById("pp_provided").setAttribute("class", "aft_proceed");
        // Copy reference sentence.
        document.getElementById("display_pp").innerHTML = document.getElementById("ref").innerHTML;
        // Replace target word.
        var word_to_replace = document.getElementById("display_pp").getElementsByClassName("tw")[0];
        word_to_replace.setAttribute("class", "int");
        word_to_replace.innerHTML = value_int0; 
      }
    } else {
      // Hide the next step.
      document.getElementById("pp_provided").setAttribute("class", "bef_proceed");
      document.getElementById("pp_notprovided").setAttribute("class", "bef_proceed");
    }
  }
</script>
</body>
</html>
